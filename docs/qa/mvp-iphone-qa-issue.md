# MVP Manual QA (iPhone実機1台) — Phase 1

## 概要

Phase 1 MVP の手動 QA チェックリスト。iPhone 実機1台のみで実施。

## スコープ

**対象:**
- iPhone 実機（iOS 16+）1台
- 全画面フロー（S-01〜S-08）
- ローカルデータ永続化
- 基本的なレイアウト確認

**対象外:**
- シミュレーター
- Android
- iPad / タブレット
- パフォーマンス計測
- 自動テスト

---

## 1. 準備

### 環境情報（テスト前に記入）

| 項目 | 値 |
|------|-----|
| デバイス | iPhone _____ |
| iOS バージョン | _____ |
| アプリビルド | _____ |
| テスト日時 | _____ |

### 初回起動状態へのリセット手順

1. 設定 > 一般 > iPhone ストレージ > 「わたしの台所図鑑」を探す
2. 「App を削除」を選択（データも削除される）
3. TestFlight または Xcode から再インストール
4. アプリを起動して初回状態を確認

### ログ確認方法（任意）

- Xcode > Window > Devices and Simulators > 該当デバイス > Open Console
- または Console.app でデバイスを選択

---

## 2. スモークテスト（必須パス）

> 以下がすべて通らない場合、詳細テストに進まない

- [ ] アプリが起動する
- [ ] クラッシュせずにホーム画面（S-01）が表示される
- [ ] タップ操作が反応する
- [ ] 画面遷移が動作する

---

## 3. オンボーディング（S-07）

### 初回起動時

- [ ] 初回起動でオンボーディング画面が表示される
- [ ] ウェルカムメッセージが表示される
- [ ] 「はじめる」または同等のボタンが存在する
- [ ] ボタンタップでホーム画面（S-01）へ遷移する

### 2回目以降

- [ ] 2回目起動時はオンボーディングをスキップし、直接 S-01 へ

---

## 4. ホーム / 世界レイヤー（S-01）

### 基本表示

- [ ] 2.5D キッチン世界が表示される
- [ ] キャラクター（しろねこ）が表示される
- [ ] キャラクターが床面に正しく接地している（浮いていない、めり込んでいない）
- [ ] 呼吸アニメーション（微細なスケール変化）が動作している

### 時間帯による部屋切り替え

| 時間帯 | 期待される状態 |
|--------|---------------|
| 朝（5:00-10:59） | 朝の照明・雰囲気 |
| 昼（11:00-16:59） | 昼の照明・雰囲気 |
| 夕（17:00-20:59） | 夕方の照明・雰囲気 |
| 夜（21:00-4:59） | 夜の照明・雰囲気 |

- [ ] 現在時刻に応じた時間帯の部屋が表示される
- [ ] 照明・色味が時間帯に合っている

### ナビゲーション

- [ ] フッターナビゲーションが表示される
- [ ] 各タブアイコンがタップ可能
- [ ] アーカイブ（棚）タブで S-02 へ遷移
- [ ] 設定タブで S-06 へ遷移
- [ ] 記録ボタン（+）で記録フローへ遷移

---

## 5. 記録フロー（S-04a/b/c + S-08）

### 写真選択（S-04a）

- [ ] カメラロールへのアクセス許可ダイアログが表示される
- [ ] 許可後、写真一覧が表示される
- [ ] 写真をタップして選択できる
- [ ] 選択後、次の画面へ遷移する

### 入力（S-04b）

- [ ] 選択した写真のプレビューが表示される
- [ ] 料理名入力欄が存在する
- [ ] キーボードが正しく表示される
- [ ] 日本語入力が可能
- [ ] カテゴリ選択が可能（任意）
- [ ] 「保存」ボタンが存在する

### 保存確認（S-04c）

- [ ] 保存ボタンタップで保存処理が開始される
- [ ] ローディング表示が適切（200ms 未満なら非表示、それ以上なら表示）

### セレブレーション（S-08）

- [ ] 保存完了後、セレブレーション画面が表示される
- [ ] 祝福メッセージまたは演出が表示される
- [ ] 一定時間後またはタップでホームへ戻る

---

## 6. アーカイブ / 棚図鑑（S-02）

### 基本表示

- [ ] カードグリッドが表示される
- [ ] 世界がブラー背景として表示される
- [ ] 登録したレシピカードが表示される

### カード表示

- [ ] サムネイル画像が表示される
- [ ] 料理名が表示される
- [ ] 調理回数が表示される
- [ ] カードタップで詳細モーダル（S-03）が開く

### フィルタ・タブ

- [ ] 時系列タブが存在する
- [ ] カテゴリタブが存在する
- [ ] タブ切り替えが動作する

### ローディング状態

- [ ] 初回読み込み時、スケルトンが表示される（900ms 以上の場合）
- [ ] スケルトンは呼吸アニメーション（シマーではない）

---

## 7. 詳細モーダル（S-03）

- [ ] カードタップでモーダルが開く
- [ ] 写真が大きく表示される
- [ ] 料理名が表示される
- [ ] 調理日・回数などの情報が表示される
- [ ] 閉じるボタンまたはスワイプで閉じられる
- [ ] 閉じた後、S-02 に戻る

---

## 8. 設定（S-06）

### 画面表示

- [ ] 設定画面が表示される
- [ ] 世界がブラー背景として表示される

### 通知設定

- [ ] 通知トグルが存在する（デフォルト: ON）
- [ ] トグル ON/OFF が切り替え可能
- [ ] ON の場合、17:30 に通知予定であることが分かる表示

**通知スケジュールルール:**
> 17:30 のみ。その日にアプリを開いていない場合のみ通知。

**通知コピー（2パターン、ランダム選択）:**

| パターン | タイトル | 本文 |
|----------|---------|------|
| A | 台所の本棚 | 今夜のためのページが、そっと開いています。 |
| D | 台所の本棚 | 今日のひと皿を、そっと置けます。 |

- [ ] 通知許可ダイアログが表示される（初回 ON 時）

### サウンド設定

- [ ] サウンドトグルが存在する
- [ ] トグル ON/OFF が切り替え可能
- [ ] 全サウンド（UI音、アンビエント等）が一括制御される

### プライバシー表示

- [ ] ローカルファースト説明文が存在する
- [ ] SNS共有・外部送信に関する機能が**ない**ことを確認
- [ ] 「データはこの端末にのみ保存されます」等の説明

---

## 9. 永続化 / シードデータ

### 初回起動時

- [ ] DB が初期化される（クラッシュしない）
- [ ] シードデータがある場合、正しく表示される

### 再起動後

- [ ] アプリ終了→再起動後、登録したレシピが残っている
- [ ] 調理回数などのデータが保持されている
- [ ] 重複登録が発生していない

### データ整合性

- [ ] 同じレシピを2回記録 → 調理回数が +1 される（新規カード作成ではない）
- [ ] カテゴリ変更が保存される

---

## 10. レイアウト確認（iPhone のみ）

### セーフエリア

- [ ] ノッチ/Dynamic Island にコンテンツが被らない
- [ ] ホームインジケーター領域にタップ要素が被らない

### フッター

- [ ] フッターナビゲーションが画面下部に固定
- [ ] フッターアイコンがタップ可能な位置

### テキスト

- [ ] 長い料理名が適切に省略される（...）
- [ ] テキストが画面外にはみ出さない
- [ ] フォントサイズが読みやすい

### 全般

- [ ] 横スクロールが意図せず発生しない
- [ ] タップターゲットが 44pt 以上

---

## バグ報告テンプレート

バグを発見した場合、以下の形式で記録してください。

```markdown
### バグ: [簡潔なタイトル]

**環境:**
- デバイス: iPhone _____
- iOS: _____
- ビルド: _____

**再現手順:**
1.
2.
3.

**期待される動作:**


**実際の動作:**


**スクリーンショット/動画:**
（添付）

**ログ:**
（あれば貼り付け）

**再現率:**
- [ ] 毎回
- [ ] 時々
- [ ] 1回のみ
```

---

## 完了条件

- [ ] スモークテストが全パス
- [ ] クリティカルなバグがない
- [ ] 全チェックボックスが確認済み（パス or 既知の問題として記録）

---

**テスト実施者:** _______________
**完了日:** _______________
