> **⚠️ このファイルはアーカイブされました**
>
> このファイルの内容は、Figmaで管理されるべきワイヤーフレーム仕様です。
> 詳細な画面フローは `docs/ux/phase-1/01-screen-flows.md` を参照してください。
>
> ---

# 02-06: S-04 記録フロー
_S-04: Record Flow_

[← 戻る](../02-core-wireframes.md)

---

## S-04: 記録フロー

### フロー概要（3決定タップ）

01-screen-flows.md §4.1 に準拠。

```
S-04a: 写真（撮影/選択/スキップ）  ← 決定タップ①②
  ↓
S-04b: 入力フォーム（料理名必須）
  ↓
S-04c: 確認・保存                  ← 決定タップ③
  ↓
S-08:  セレブレーション
```

---

### S-04a: 写真撮影/選択

```
┌─────────────────────────────┐
│ [×]       記録する          │ ← キャンセルで S-01 へ
├─────────────────────────────┤
│                             │
│                             │
│    ┌───────────────────┐   │
│    │                   │   │
│    │  [📷 写真を撮る]   │   │ ← メイン操作
│    │                   │   │
│    └───────────────────┘   │
│                             │
│    [🖼 ライブラリから選ぶ]   │
│                             │
│    ─────────────────────    │
│                             │
│    [写真なしで続ける]        │ ← 明確にスキップ可能
│                             │
│  ℹ️ 写真はあとからでも       │
│     追加できます            │
│                             │
├─────────────────────────────┤
│         （フッター非表示）    │
└─────────────────────────────┘
```

### S-04a 仕様

- **フッター**: 非表示（記録フロー中は世界から離れる）
- **キャンセル**: ×タップで S-01 へ戻る（世界の中断を最小化）
- **写真選択**: 撮影 / ライブラリ / スキップ の3択
- **制約**: 写真は任意、なくても記録可能

### S-04a: 写真撮影/選択 — 写真フロー仕様（UX-SOON / P1）

#### 写真追加の方針（World Bible準拠）

- このアプリの写真は **「映え」ではなく「気配」を残すためのもの**。
- 写真は **任意**。写真がなくても **必ず記録を完了できる**。
- 写真は **あとから追加・入れ替え・外すことができる**（「撮らなかった日」も肯定する）。

#### 写真追加の導線（S-04aで提供する選択肢）

S-04a は以下の3択を必ず提供する：

- 📷 **写真を撮る**（メイン）
- 🖼 **ライブラリから選ぶ**
- **写真なしで続ける**（明確なスキップ）

**注:** 「きれいに撮る」「映える」等の誘導コピーは入れない。

#### 写真編集機能（MVP）

- MVPでは編集は最小限とし、**トリミング（任意）のみ**提供する。
- フィルター／色調補正／スタンプ／文字入れ／美肌／加工など、映えにつながる機能は提供しない。

#### トリミング（任意）ステップ

- 写真を撮影または選択した直後に、軽いトリミング画面を挟む（スキップ可）。
- 目的は **カード表示比率（4:3）に自然に収めるため**。
- UIは以下の2択のみ（簡潔に）：
  - **このまま使う**
  - **切り抜く（任意）**

### S-04a インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 左上 | × ボタン | S-01 へ戻る（キャンセル） |
| 中央上 | 📷 写真を撮る | カメラ起動 → 撮影後 S-04b |
| 中央 | 🖼 ライブラリ | フォトライブラリ → 選択後 S-04b |
| 下部 | 写真なしで続ける | S-04b へ遷移（写真スキップ） |

---

### S-04b: 入力フォーム

```
┌─────────────────────────────┐
│ [←]       記録する          │ ← S-04a へ戻る
├─────────────────────────────┤
│                             │
│  ┌───────────────────┐     │
│  │  [写真プレビュー]  │     │ ← 選択した写真（または空）
│  └───────────────────┘     │
│                             │
│  料理名 *                   │
│  ┌───────────────────┐     │
│  │                   │     │ ← 必須入力
│  └───────────────────┘     │
│                             │
│  メモ（任意）               │
│  ┌───────────────────┐     │
│  │                   │     │ ← 任意入力
│  │                   │     │
│  └───────────────────┘     │
│                             │
│  タグ（任意）               │
│  [+ タグを追加]             │
│                             │
├─────────────────────────────┤
│         [確認へ]            │ ← 料理名入力後に有効化
└─────────────────────────────┘
```

### S-04b 仕様

- **必須項目**: 料理名のみ
- **任意項目**: 写真、メモ、タグ
- **次へ条件**: 料理名が入力されていること
- **フッター**: 非表示

#### S-04b / S-04c — 写真なしでも完了できることの保証

- S-04b は写真プレビューが **空でも進行可能**。
- S-04c も写真が **空でも保存可能**。
- 写真が無い場合、「写真：なし」等の強調表示はしない（空枠として静かに扱う）。

### S-04b インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 左上 | ← ボタン | S-04a へ戻る |
| 写真プレビュー | 写真エリア | 写真変更（S-04a の選択肢表示） |
| 料理名入力 | テキストフィールド | キーボード表示、入力 |
| メモ入力 | テキストエリア | キーボード表示、入力 |
| タグ追加 | + タグを追加 | タグ選択/入力UI表示 |
| 下部 | 確認へ | S-04c へ遷移 |

---

### S-04c: 確認・保存

```
┌─────────────────────────────┐
│ [←]       確認              │ ← S-04b へ戻る
├─────────────────────────────┤
│                             │
│  ┌───────────────────┐     │
│  │  [写真プレビュー]  │     │
│  └───────────────────┘     │
│                             │
│  料理名: カレーライス        │
│                             │
│  メモ: 今日は少し辛めに...   │
│                             │
│  タグ: #夕食 #定番          │
│                             │
│                             │
│  ℹ️ 記録はあとから          │
│     編集できます            │
│                             │
├─────────────────────────────┤
│        [保存する]           │ ← 決定タップ③
└─────────────────────────────┘
```

### S-04c 仕様

- **表示内容**: 入力内容のプレビュー
- **編集**: 戻るボタンで S-04b へ
- **保存**: 保存ボタンタップで記録完了 → S-08 へ
- **安心感**: 「あとから編集できます」を明記

### S-04c インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 左上 | ← ボタン | S-04b へ戻る |
| 下部 | 保存する | データ保存 → S-08 セレブレーション |

---

### S-08: セレブレーション

```
┌─────────────────────────────┐
│                             │
│                             │
│      ✨  記録しました  ✨    │
│                             │
│    [料理名: カレーライス]    │
│                             │
│       🎉 パーティクル 🎉    │
│                             │
│                             │
│                             │
│    （2秒後に自動で戻る）     │
│                             │
└─────────────────────────────┘
（背景: キッチン世界が見える、blur解除）
```

### S-08 仕様

- **表示形式**: オーバーレイ（世界が背景に見える）
- **演出**: パーティクル + 効果音（1.5秒）
- **自動遷移**: 2秒後に S-01 へ
- **フッター**: 非表示

### 制約（World Bible準拠）

- 写真は任意、なくても記録可能
- 「あとから追加」も可能
- フィルター等の編集機能は不要（映えを求めない）
- 「不完全でも良い」を体現

#### 複数写真の扱い（MVPスコープ）

- MVPでは**1記録 = 0〜1枚**とする（複数写真は扱わない）。
- 将来拡張の余地は残すが、MVPではUI・仕様・導線に含めない。

---

[← 戻る](../02-core-wireframes.md)

