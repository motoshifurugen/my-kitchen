# 02: コアワイヤーフレーム仕様
_Core Wireframes Specification_

---

## 概要

MVP対象画面のワイヤーフレーム仕様を定義する。
詳細なビジュアルデザインの前段階として、レイアウト・情報階層・インタラクション領域を明確にする。

**準拠ドキュメント:** 01-screen-flows.md（画面構成・フローの正）

**関連イシュー:** UX-002, UX-003, UX-005, UX-009, UX-014, UX-025

---

## フッターナビゲーション（共通）

全画面で共通のフッター構成。01-screen-flows.md §3 に準拠。

```
┌─────────────────────────────────────────┐
│  ┌───────┐   ┌───────────┐   ┌───────┐  │
│  │  🔍   │   │    ➕     │   │  📚   │  │
│  │ 探索  │   │   記録    │   │   棚  │  │
│  └───────┘   └───────────┘   └───────┘  │
│    S-05         S-04           S-02a    │
└─────────────────────────────────────────┘
```

| 位置 | アイコン | ラベル | 遷移先 |
|------|----------|--------|--------|
| 左 | 🔍 | 探索 | S-05 探索 |
| 中央 | ➕ | 記録 | S-04 記録フロー |
| 右 | 📚 | 棚 | S-02a 本棚 |

**注:** 設定（⚙️）はフッターに含めない。S-01トップ画面のヘッダーからアクセス。

---

## S-01: トップ画面（キッチン世界）

### レイアウト構成

```
┌─────────────────────────────┐
│                       [⚙️] │ ← ヘッダー（設定アクセス）
├─────────────────────────────┤
│                             │
│                             │
│      2.5D キッチン世界       │
│     （常に呼吸している）      │
│                             │
│                             │
│                             │
├─────────────────────────────┤
│    [🔍]    [➕]    [📚]     │ ← 固定フッター（3アイテム）
│    探索    記録     棚      │
└─────────────────────────────┘
```

### 仕様

- **ヘッダー**: 最小限、右上に設定アイコンのみ
- **キッチン世界エリア**: 画面の約85%
  - 固定カメラ構図（変更なし）
  - 時間帯・季節でトーンのみ変化
  - 常時微細アニメーション（呼吸）
- **固定フッター**: 画面下部、Safe Area考慮
  - 高さ: 約56pt + Safe Area
  - 3アイテム構成（探索 / 記録 / 棚）
  - ラベル常時表示（80% opacity）

### インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 右上ヘッダー | ⚙️ アイコン | S-06 設定へ遷移 |
| 左フッター | 🔍 探索 | S-05 探索へ遷移 |
| 中央フッター | ➕ 記録 | S-04a 記録フロー開始 |
| 右フッター | 📚 棚 | S-02a 本棚へ遷移 |
| キッチン世界 | （なし） | 操作なし（観賞用） |

### 制約（World Bible準拠）

- 時間帯が変わっても部屋の構図/レイアウトは変えない
- 季節が変わっても基本構成は維持
- Reality:Fantasy = 5:5（住めそうな空間）
- Kitchen Signalsで空気感を合成（ルート/テーマ切替は存在しない）

---

## S-02: 本棚（図鑑一覧）

### フロー概要

```
Footer "棚" → S-02a: 本棚（図鑑一覧）
  ↓
S-02b: 図鑑内カード一覧（グリッド / あいうえお順）
  ↓
S-03: 料理カード詳細（モーダル）

（並行アクセス）
S-02c: 本棚ログ（時系列）
S-02d: アニバーサリー枠
```

---

## S-02a: 本棚（図鑑一覧 / Shelf of encyclopedias）

### レイアウト構成

```
┌─────────────────────────────┐
│           本棚              │ ← ヘッダー（戻るなし）
├─────────────────────────────┤
│                             │
│  ┌───────────────┐         │
│  │   [図鑑1]     │         │ ← 固定配置
│  │   和食図鑑     │         │    全ユーザー共通
│  └───────────────┘         │
│                             │
│  ┌───────────────┐         │
│  │   [図鑑2]     │         │
│  │   洋食図鑑     │         │
│  └───────────────┘         │
│                             │
│  ┌───────────────┐         │
│  │   [図鑑3]     │         │
│  │   中華図鑑     │         │
│  └───────────────┘         │
│                             │
│  ┌───────────────┐         │
│  │   [マイ図鑑]  │         │ ← 特別な図鑑（お気に入り）
│  │   ⭐          │         │
│  └───────────────┘         │
│                             │
│  ┌───────────────┐         │
│  │   [図鑑N]     │         │
│  │   ...         │         │
│  └───────────────┘         │
│                             │
│  ─ 本棚ログ ─               │ ← S-02c への導線
│  昨日何作った？              │
│                             │
│  ─ アニバーサリー ─         │ ← S-02d への導線
│  去年の今日                  │
│                             │
├─────────────────────────────┤
│    [🔍]    [➕]    [📚]     │
│    探索    記録     棚      │
└─────────────────────────────┘
```

### 仕様

- **ヘッダー**: タイトルのみ（Footerからのルート画面のため戻るボタンなし）
- **図鑑の性質**:
  - **固定セット**: 図鑑はアプリ側で定義された固定リスト（全ユーザー共通）
  - **固定配置**: 図鑑の順序・位置は変更不可
  - **記録非依存**: 図鑑の存在はユーザーの記録有無に関わらず表示される
- **特別な図鑑**: 「マイ図鑑」はお気に入り用の特別な図鑑として配置
- **本棚ログ**: 「昨日何作った？」の解消のため、時系列リストへの導線を提供（S-02c）
- **アニバーサリー**: 「去年の今日」など、特別な日付への導線を提供（S-02d）

### 図鑑カード構造

```
┌───────────────────┐
│   [図鑑アイコン]   │  ← 図鑑を象徴する視覚要素
│                   │     または代表的な料理画像
├───────────────────┤
│ 図鑑名            │  ← 例: "和食図鑑"、"洋食図鑑"
│                   │
└───────────────────┘
```

### インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 図鑑カード | 任意の図鑑 | S-02b 図鑑内カード一覧へ遷移 |
| 本棚ログ | 「昨日何作った？」エリア | S-02c 本棚ログへ遷移 |
| アニバーサリー | 「去年の今日」エリア | S-02d アニバーサリーへ遷移 |
| フッター | 各ナビアイテム | 対応画面へ遷移 |

---

## S-02b: 図鑑内カード一覧（グリッド / あいうえお順）

### レイアウト構成

```
┌─────────────────────────────┐
│ [←]      [図鑑名]           │ ← 戻るボタンで S-02a へ
├─────────────────────────────┤
│ ┌─────┐ ┌─────┐ ┌─────┐    │
│ │     │ │     │ │     │    │
│ │ Card│ │ Card│ │ Card│    │
│ │     │ │     │ │     │    │
│ └─────┘ └─────┘ └─────┘    │
│ ┌─────┐ ┌─────┐ ┌─────┐    │ ← グリッド
│ │     │ │     │ │     │    │    スクロール可
│ │ Card│ │ Card│ │ Card│    │
│ │     │ │     │ │     │    │
│ └─────┘ └─────┘ └─────┘    │
│                             │
├─────────────────────────────┤
│    [🔍]    [➕]    [📚]     │
│    探索    記録     棚      │
└─────────────────────────────┘
```

### 仕様

- **ヘッダー**: 戻るボタン + 図鑑名
- **グリッド**: 3列（標準）
  - レスポンシブ: 画面幅に応じて2列へフォールバック可
- **カード間ギャップ**: spacing-md (16pt)
- **並び順**: **あいうえお順（デフォルト）**
  - グレード順・作成日順は提供しない（World Bible「評価しない」原則）
- **空状態**: 中央に優しいメッセージ（UX-061参照）
- **表示方針**: カード一覧では作成回数・日付を表示しない（情報密度を下げ、評価・比較の印象を避ける）

### スクロール方式

- **縦スクロール（無限）** を採用
- ページネーションなし
- Pull-to-refresh: なし（リアルタイム同期なし）
- 一度に表示: 約18枚（3列×6行）
- 追加読み込み: 画面下端到達で自動読み込み

### レスポンシブ閾値

| 画面幅 | 列数 | カード幅 |
|--------|------|---------|
| ≥ 375pt | 3列 | (画面幅 - 40pt - 32pt) / 3 |
| < 375pt | 2列 | (画面幅 - 40pt - 16pt) / 2 |

**計算式:** カード幅 = (画面幅 - 左右マージン - ギャップ合計) / 列数

### 料理カード構造（UX-003）

```
┌───────────────────┐
│   [写真エリア]     │  ← アスペクト比 4:3
│                   │     写真なしの場合はプレースホルダー
├───────────────────┤
│ 料理名            │  ← 1行、省略あり
│ ●●●○○ (グレード)  │  ← 数字ではなく視覚表現
└───────────────────┘
```

**注:** 一覧カードでは作成回数・日付を表示しない（情報密度を下げ、評価・比較の印象を避ける）

### インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 左上 | ← ボタン | S-02a 本棚へ戻る |
| カード | 任意のカード | S-03 詳細モーダル表示 |
| フッター | 各ナビアイテム | 対応画面へ遷移 |

---

## S-02c: 本棚ログ（時系列 / "昨日何作った？"の解消）

### レイアウト構成

```
┌─────────────────────────────┐
│ [←]      本棚ログ           │ ← 戻るボタンで S-02a へ
├─────────────────────────────┤
│                             │
│  ─ 2026/02/15 ─             │ ← 日付セクション
│  ┌───────────────────┐     │
│  │ [Card] カレーライス│     │ ← 追加または更新されたカード
│  └───────────────────┘     │
│  ┌───────────────────┐     │
│  │ [Card] 味噌汁     │     │
│  └───────────────────┘     │
│                             │
│  ─ 2026/02/14 ─             │
│  ┌───────────────────┐     │
│  │ [Card] 唐揚げ     │     │
│  └───────────────────┘     │
│                             │
│  ─ 2026/02/13 ─             │
│  ...                        │
│                             │
├─────────────────────────────┤
│    [🔍]    [➕]    [📚]     │
│    探索    記録     棚      │
└─────────────────────────────┘
```

### 仕様

- **ヘッダー**: 戻るボタン + タイトル「本棚ログ」
- **表示内容**: 時系列リスト（新しい順）
  - **「追加」**: 初回記録された料理カード
  - **「更新」**: 既存のカードが再度記録され、カードの状態（グレード等）が変化したもの
- **日付セクション**: 日付ごとにグループ化
- **カード表示**: S-02b と同じカード形式（グリッドではなくリスト形式）
- **目的**: 「昨日何作った？」という問いへの答えを提供

### インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 左上 | ← ボタン | S-02a 本棚へ戻る |
| カード | 任意のカード | S-03 詳細モーダル表示 |
| フッター | 各ナビアイテム | 対応画面へ遷移 |

---

## S-02d: アニバーサリー枠（本棚の一角）

### レイアウト構成

```
┌─────────────────────────────┐
│ [←]    アニバーサリー        │ ← 戻るボタンで S-02a へ
├─────────────────────────────┤
│                             │
│  去年の今日（2025/02/15）   │ ← 日付表示
│                             │
│  ┌───────────────────┐     │
│  │ [Card] カレーライス│     │ ← 該当日に記録された
│  └───────────────────┘     │    料理カード
│  ┌───────────────────┐     │
│  │ [Card] 味噌汁     │     │
│  └───────────────────┘     │
│                             │
│  （該当がない場合は空状態）   │
│                             │
├─────────────────────────────┤
│    [🔍]    [➕]    [📚]     │
│    探索    記録     棚      │
└─────────────────────────────┘
```

### 仕様

- **ヘッダー**: 戻るボタン + タイトル「アニバーサリー」
- **表示内容**: 「去年の今日」など、特定の日付に記録された料理カード
- **カード表示**: リスト形式または小さなグリッド形式
- **タップ動作**: カードタップで S-03 詳細モーダル表示
  - または、小さなリストから選択して S-03 へ遷移
- **空状態**: 該当日に記録がない場合は優しいメッセージを表示

### インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 左上 | ← ボタン | S-02a 本棚へ戻る |
| カード | 任意のカード | S-03 詳細モーダル表示 |
| フッター | 各ナビアイテム | 対応画面へ遷移 |

---

## 料理カードの「グレード（grade）」仕様（UX-SOON / P1）

> 同じ料理を作った回数に応じて、カードの装丁が“育つ”。  
> ただし、⭐︎やレベルなどの数値評価に見せない。比較・競争の匂いを出さない。

### 位置づけ
- **対象**: S-02a/S-02b（本棚/図鑑内カード一覧）/ S-03（料理カード詳細）
- **目的**: 「回数」をユーザーに数として突きつけず、**積み重なりを"装丁の厚み"として可視化**し、静かなコレクション欲を刺激する
- **前提**: カードは棚に格納するため **1枚のカードとして保持**する（カードが物理的に厚くなる表現はしない）

---

### 1) 難易度 weight（メニュー側で固定管理）
難易度はアプリ側で管理するメニューリストに設定する（ユーザー入力ではない）。

- **weight: 1〜4**
  - w1: かんたん（例：味噌汁）
  - w4: むずかしい（例：唐揚げ）

#### 難易度 Tint（カード台紙のベース色）
メニューの難易度に応じて、カード台紙（ベース）のトーンを変える。  
※派手にしない／ネオン不可／“強さ”に見せない。

- **w1 (Easy)**: やわらかいミント系（空気が軽い）
- **w2 (Medium)**: 淡いスカイブルー系（落ち着いた日常）
- **w3 (Hard)**: 薄いアプリコット〜アンバー系（手間の温かさ）
- **w4 (Expert)**: くすみプラム〜ラベンダー系（静かな深み）

> 注意: Tint は「評価の色」ではなく、「料理の手触りの違い」として扱う。

---

### 2) グレード段階（G0〜G4）
- **全5段階**: G0 / G1 / G2 / G3 / G4
- **表示上の禁止**: レベル / ランク / レア / 伝説 / ★ / 数字の大きな露出
- **ユーザー向けコピー指針**: 「育ち」「装丁が深まる」「棚に馴染む」方向の言葉のみ

---

### 3) 昇格条件（回数の閾値）
料理の「作った回数（内部値）」に応じて昇格する。  
ただし **難しい料理ほど少ない回数で昇格**する（努力が報われにくくならないため）。

- `cookCount` は内部的に保持して良いが、一覧で“評価”として見せない（必要なら詳細のみ）

#### 閾値テーブル（合計 cookCount で到達）
| difficulty weight | G1 | G2 | G3 | G4 |
|---|---:|---:|---:|---:|
| **w1 (Easy)**   | 3  | 6  | 10 | 15 |
| **w2 (Medium)** | 2  | 5  | 8  | 12 |
| **w3 (Hard)**   | 2  | 4  | 6  | 9  |
| **w4 (Expert)** | 1  | 3  | 5  | 7  |

- **G0**: 初回記録（cookCount=1）相当の基底状態
- **考え方**: “難しい料理は繰り返しのハードルが高い”ため、早めに装丁が深まる

---

### 4) 視覚表現方針（数字ではなく「装丁の厚み」）
カードは1枚固定。グレードが上がるほど **装丁がリッチになる**（カードゲームのレア度のように見た目は変わるが、評価語は使わない）。

#### カードの合成ルール（前提）
- メニュー固有の **3D料理画像** をカード中央に載せる
- **料理画像はグレードで変化しない**
- 変わるのは **台紙（ベース）** と **装丁（枠・模様・密度・質感）**

#### カテゴリ別パターン（5種類）
カテゴリによって台紙の微細パターンを変える（gradeで“濃度/密度/装丁”が育つ）。

- **Soup / Liquid**: ゆらぎ（波紋のような微細曲線）
- **Fry**: 粒感（微細な点状テクスチャ）
- **Grill / Bake**: 格子（柔らかいグリッド）
- **Noodle / Rice**: 流線（細い流れ模様）
- **Dessert / Salad**: 霧のような面（柔らかいグラニュール）

#### グレード別の装丁変化（G0→G4）
- **G0**: ほぼ無地に近い。パターンは極薄。枠なし（または極細）
- **G1**: パターンが少し見える。やわらかい内枠が生まれる
- **G2**: パターン密度が増える。紙の“押し”のような質感（軽いエンボス感）
- **G3**: 装丁が整う。角や縁に上品なディテール。コントラストは上げすぎない
- **G4**: もっとも上質。密度/質感/縁の完成度が最大（ただし派手・金ピカは禁止）

**禁止モチーフ**
- 勲章 / 王冠 / トロフィー / “強さ”を連想させる記号
- レアリティ文字（R/SSR等）や「ランク」表現
- 目立つ数値の表示

---

### 5) grade-up UX フロー（いつ、どう見せるか）
#### いつ判定するか
- **記録保存（S-04c → 保存完了）時に判定**
- cookCount 更新後、閾値を跨いだ場合に grade-up

#### どう見せるか（静かに、短く）
- 通常の **S-08 セレブレーション** に「1行だけ追加」する
- 派手なモーダルや “LEVEL UP!” 演出は禁止

**表示例（案）**
- 「**◯◯が育ちました。**」
- 「**装丁が少し深まりました。**」

> 目的は“褒めて煽る”ではなく、“積み重なりをそっと気づかせる”。

---

### 6) 一覧/詳細での表示方針（評価に見せない）
- **S-02b 一覧**: グレード表現は「控えめ」に表示（主役は写真と料理名）
- **S-03 詳細**: もう少し見える（装丁の変化がわかる）が、数値評価の印象は避ける
- **グレード順ソートは提供しない**（World Bible「評価しない」に抵触）

---

### 7) 実装メモ（内部設計用）
- `menu.difficultyWeight: 1..4`（固定データ）
- `menu.category: 5カテゴリ`
- `dish.cookCount: number`（内部保持。UIでの露出は慎重に）
- `card.grade: 0..4`（cookCount と weight から導出）
- `card.baseTint: weight から導出`
- `card.pattern: category から導出`
- `dishImage3D`: gradeで不変

### カード情報要素（完全リスト）

| 要素 | 一覧表示 | 詳細表示 | 備考 |
|------|---------|---------|------|
| 写真 | ● | ● | なければプレースホルダー |
| 料理名 | ● | ● | 一覧: 1行省略、詳細: 全文 |
| グレード表現 | ● | ● | 数字ではなく視覚表現 |
| 作成回数 | - | ● | 「{n}回作りました」 |
| 最終作成日 | - | ● | 「最後に作った日: YYYY/MM/DD」 |
| 記録履歴 | - | ● | 直近5件の日付リスト |
| メモ | - | ● | あれば表示 |

### カード視覚的階層

優先順位（上から目立たせる順）：

1. **写真** — 最も目を引く要素、4:3 比率
2. **料理名** — 識別のための主要テキスト
3. **グレード表現** — 積み重なりの可視化（控えめに）

**一覧カードでは作成回数・日付を表示しない理由:**
- 情報密度を下げる
- 「評価」「比較」の印象を避ける
- 詳細を見たいときだけ表示

### カードサイズ仕様

| バリエーション | 幅 | 高さ | 用途 |
|---------------|-----|------|------|
| 一覧（小） | 計算値（レスポンシブ閾値参照） | 幅 × 1.2 | S-02b, S-05 グリッド |
| 詳細（大） | 画面幅 - 40pt | 自動 | S-03 モーダル |

### インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 表示切替タブ | 時系列 / カテゴリ | 表示モード切替 |
| カード | 任意のカード | S-03 詳細モーダル表示 |
| フッター | 各ナビアイテム | 対応画面へ遷移 |

---

## S-03: 料理カード詳細（モーダル）

### レイアウト構成

```
┌─────────────────────────────┐
│ [×]                         │ ← 閉じるボタン（モーダル）
├─────────────────────────────┤
│                             │
│    ┌───────────────────┐   │
│    │                   │   │
│    │    [写真エリア]    │   │ ← 大きめ表示
│    │                   │   │
│    └───────────────────┘   │
│                             │
│  料理名                     │
│  ●●●●○ (グレード)           │
│                             │
│  ─ メモ ─                   │
│  メモ内容があれば表示...     │
│                             │
│  ─ 記録履歴 ─               │
│  2026/01/15  2026/01/08 ... │
│                             │
│                             │
└─────────────────────────────┘
（背景: S-02b / S-02c / S-02d または S-05 がぼかし表示）
```

### 仕様

- **表示形式**: モーダルオーバーレイ（フルスクリーンではない）
- **閉じる操作**: ×ボタン、または背景タップ
- **フッター**: 非表示（モーダル中）
- **戻り先**: 呼び出し元（S-02b / S-02c / S-02d または S-05）

### インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 左上 | × ボタン | モーダルを閉じる |
| 背景 | ぼかしエリア | モーダルを閉じる |
| 写真エリア | 写真 | （将来）フルスクリーン表示 |

### S-03: 料理カード詳細（モーダル）— あとから写真を追加する導線（UX-SOON / P1）

#### 「あとから写真を追加」導線

- **写真がない場合**：
  - 写真エリアに控えめな導線として **「写真を追加（任意）」** を表示する。
- **写真がある場合**：
  - 写真タップで以下を選べる（編集は提供しない）：
    - **写真を入れ替える**
    - **写真を外す**

#### 「写真を外す」方針

- 写真削除は「消す」ではなく、**整える／静かに戻す行為**として扱う。
- 削除に罪悪感が出るコピーは禁止（例：「本当に消しますか？」は必要最小限の確認に留める）。

---

## S-04: 記録フロー

### フロー概要（3決定タップ）

01-screen-flows.md §4.1 に準拠。

```
S-04a: 写真（撮影/選択/スキップ）  ← 決定タップ①②
  ↓
S-04b: 入力フォーム（料理名必須）
  ↓
S-04c: 確認・保存                  ← 決定タップ③
  ↓
S-08:  セレブレーション
```

---

### S-04a: 写真撮影/選択

```
┌─────────────────────────────┐
│ [×]       記録する          │ ← キャンセルで S-01 へ
├─────────────────────────────┤
│                             │
│                             │
│    ┌───────────────────┐   │
│    │                   │   │
│    │  [📷 写真を撮る]   │   │ ← メイン操作
│    │                   │   │
│    └───────────────────┘   │
│                             │
│    [🖼 ライブラリから選ぶ]   │
│                             │
│    ─────────────────────    │
│                             │
│    [写真なしで続ける]        │ ← 明確にスキップ可能
│                             │
│  ℹ️ 写真はあとからでも       │
│     追加できます            │
│                             │
├─────────────────────────────┤
│         （フッター非表示）    │
└─────────────────────────────┘
```

### S-04a 仕様

- **フッター**: 非表示（記録フロー中は世界から離れる）
- **キャンセル**: ×タップで S-01 へ戻る（世界の中断を最小化）
- **写真選択**: 撮影 / ライブラリ / スキップ の3択
- **制約**: 写真は任意、なくても記録可能

### S-04a: 写真撮影/選択 — 写真フロー仕様（UX-SOON / P1）

#### 写真追加の方針（World Bible準拠）

- このアプリの写真は **「映え」ではなく「気配」を残すためのもの**。
- 写真は **任意**。写真がなくても **必ず記録を完了できる**。
- 写真は **あとから追加・入れ替え・外すことができる**（「撮らなかった日」も肯定する）。

#### 写真追加の導線（S-04aで提供する選択肢）

S-04a は以下の3択を必ず提供する：

- 📷 **写真を撮る**（メイン）
- 🖼 **ライブラリから選ぶ**
- **写真なしで続ける**（明確なスキップ）

**注:** 「きれいに撮る」「映える」等の誘導コピーは入れない。

#### 写真編集機能（MVP）

- MVPでは編集は最小限とし、**トリミング（任意）のみ**提供する。
- フィルター／色調補正／スタンプ／文字入れ／美肌／加工など、映えにつながる機能は提供しない。

#### トリミング（任意）ステップ

- 写真を撮影または選択した直後に、軽いトリミング画面を挟む（スキップ可）。
- 目的は **カード表示比率（4:3）に自然に収めるため**。
- UIは以下の2択のみ（簡潔に）：
  - **このまま使う**
  - **切り抜く（任意）**

### S-04a インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 左上 | × ボタン | S-01 へ戻る（キャンセル） |
| 中央上 | 📷 写真を撮る | カメラ起動 → 撮影後 S-04b |
| 中央 | 🖼 ライブラリ | フォトライブラリ → 選択後 S-04b |
| 下部 | 写真なしで続ける | S-04b へ遷移（写真スキップ） |

---

### S-04b: 入力フォーム

```
┌─────────────────────────────┐
│ [←]       記録する          │ ← S-04a へ戻る
├─────────────────────────────┤
│                             │
│  ┌───────────────────┐     │
│  │  [写真プレビュー]  │     │ ← 選択した写真（または空）
│  └───────────────────┘     │
│                             │
│  料理名 *                   │
│  ┌───────────────────┐     │
│  │                   │     │ ← 必須入力
│  └───────────────────┘     │
│                             │
│  メモ（任意）               │
│  ┌───────────────────┐     │
│  │                   │     │ ← 任意入力
│  │                   │     │
│  └───────────────────┘     │
│                             │
│  タグ（任意）               │
│  [+ タグを追加]             │
│                             │
├─────────────────────────────┤
│         [確認へ]            │ ← 料理名入力後に有効化
└─────────────────────────────┘
```

### S-04b 仕様

- **必須項目**: 料理名のみ
- **任意項目**: 写真、メモ、タグ
- **次へ条件**: 料理名が入力されていること
- **フッター**: 非表示

#### S-04b / S-04c — 写真なしでも完了できることの保証

- S-04b は写真プレビューが **空でも進行可能**。
- S-04c も写真が **空でも保存可能**。
- 写真が無い場合、「写真：なし」等の強調表示はしない（空枠として静かに扱う）。

### S-04b インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 左上 | ← ボタン | S-04a へ戻る |
| 写真プレビュー | 写真エリア | 写真変更（S-04a の選択肢表示） |
| 料理名入力 | テキストフィールド | キーボード表示、入力 |
| メモ入力 | テキストエリア | キーボード表示、入力 |
| タグ追加 | + タグを追加 | タグ選択/入力UI表示 |
| 下部 | 確認へ | S-04c へ遷移 |

---

### S-04c: 確認・保存

```
┌─────────────────────────────┐
│ [←]       確認              │ ← S-04b へ戻る
├─────────────────────────────┤
│                             │
│  ┌───────────────────┐     │
│  │  [写真プレビュー]  │     │
│  └───────────────────┘     │
│                             │
│  料理名: カレーライス        │
│                             │
│  メモ: 今日は少し辛めに...   │
│                             │
│  タグ: #夕食 #定番          │
│                             │
│                             │
│  ℹ️ 記録はあとから          │
│     編集できます            │
│                             │
├─────────────────────────────┤
│        [保存する]           │ ← 決定タップ③
└─────────────────────────────┘
```

### S-04c 仕様

- **表示内容**: 入力内容のプレビュー
- **編集**: 戻るボタンで S-04b へ
- **保存**: 保存ボタンタップで記録完了 → S-08 へ
- **安心感**: 「あとから編集できます」を明記

### S-04c インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 左上 | ← ボタン | S-04b へ戻る |
| 下部 | 保存する | データ保存 → S-08 セレブレーション |

---

### S-08: セレブレーション

```
┌─────────────────────────────┐
│                             │
│                             │
│      ✨  記録しました  ✨    │
│                             │
│    [料理名: カレーライス]    │
│                             │
│       🎉 パーティクル 🎉    │
│                             │
│                             │
│                             │
│    （2秒後に自動で戻る）     │
│                             │
└─────────────────────────────┘
（背景: キッチン世界が見える、blur解除）
```

### S-08 仕様

- **表示形式**: オーバーレイ（世界が背景に見える）
- **演出**: パーティクル + 効果音（1.5秒）
- **自動遷移**: 2秒後に S-01 へ
- **フッター**: 非表示

### 制約（World Bible準拠）

- 写真は任意、なくても記録可能
- 「あとから追加」も可能
- フィルター等の編集機能は不要（映えを求めない）
- 「不完全でも良い」を体現

#### 複数写真の扱い（MVPスコープ）

- MVPでは**1記録 = 0〜1枚**とする（複数写真は扱わない）。
- 将来拡張の余地は残すが、MVPではUI・仕様・導線に含めない。

---

## S-05: 探索（レシピ検索 & 提案）

### 目的

本アプリの「提案」は単体で主張しない。検索という意志が発生したときにだけ、検索体験の中で"そっと補助"する。

- **ユーザーが「作りたい / 探したい」と思った瞬間に、検索を軸にレシピへ到達できるようにする**
- **同時に、Kitchen Signals に基づく提案を検索画面内にさりげなく置き、選択肢を増やす（押し付けない）**

---

### 1. 表示タイミングと画面構成

#### 1.1 画面の開き方（導線）

- **フッター「探索」→ S-05（探索トップ）**
- **S-05 の中心導線は「検索を始める」**
- **検索バーをタップ、または「検索」ボタン押下で検索UIが"展開"する**

**提案は「検索UIが展開した状態」でのみ表示する**  
（＝検索する気持ちがある時だけ見える）

#### 1.2 レイアウト（検索UI展開時）

```
┌─────────────────────────────┐
│           探索              │ ← ヘッダー（戻るなし）
├─────────────────────────────┤
│ [ 検索バー（複数入力可） ]   │  ← 入力フォーカス
│ 例: みそ/豆腐/スープ          │
│                             │
│  ─ 入力チップ（AND検索） ─   │
│  [みそ] [豆腐] [Soup]   [+]  │  ← 追加/削除可
│                             │
│  ─ さりげない提案 ─          │
│  「今日の気配に合いそう」     │
│   [提案カード] [提案カード]   │  ← 最大3件、弱め表示
│                             │
│  ─ 検索結果 ─                │
│  ┌─────┐ ┌─────┐ ┌─────┐    │
│  │Card │ │Card │ │Card │    │
│  └─────┘ └─────┘ └─────┘    │
│                             │
├─────────────────────────────┤
│    [🔍]    [➕]    [📚]     │
│    探索    記録     棚      │
└─────────────────────────────┘
```

---

### 2. 検索仕様

#### 2.1 検索対象（複数入力可）

検索は**複数条件（チップ）**として扱い、基本は AND 条件で絞り込み。

- **料理名**（部分一致）
- **食材名**（部分一致）
- **カテゴリ名**（部分一致）

#### 2.2 入力方式

- **検索バーに入力 → Enter/確定でチップ化**
- **チップはタップで削除（×）**
- **チップ追加は何度でも可能**（上限は実装都合で決める：例 5〜8）

#### 2.3 検索挙動

- **入力チップが増減するたびに即時フィルタ**（検索ボタンで確定させない）
- **ただし"検索UIの展開"自体は、検索バータップ or 検索ボタンで開始してよい**

---

### 3. レシピ提案（検索ビューに同居）

#### 3.1 表示位置

- **チップ入力エリアの直下に、提案を1ブロック置く**
- **検索結果より上だが、視線を奪いすぎない（控えめ）**

#### 3.2 提案件数と見せ方

- **最大 3件**
- **形式は「カード（小）」または「横スクロール」**
- **"おすすめ"という言葉は避ける**

**例ラベル：**
- 「今日の気配に合いそう」
- 「この前の続き、どう？」

#### 3.3 提案の役割

- **検索を邪魔しない補助**
- **ユーザーが提案を無視しても体験が成立する（必須導線にしない）**

---

### 4. 検索結果ゼロ時

- **責めないメッセージ + 次の一手を置く**
- **「見つからなかったみたい。言い方を変えてみる？」**
- **「よかったら、ここから選んでもいいよ」→ 提案ブロックは残す**

---

### 5. 提案ロジック方針（最小限・押し付け回避）

- **表示は 3枠で役割を分ける（順位ではない）**
  - **枠1**: 定番寄り（よく作る）
  - **枠2**: 時間帯に合う軽さ
  - **枠3**: 小さな新規（ハードル低め）

**禁止事項：**
- ★・点数・レベル・ランキングは禁止
- 「あなたはこれが好き」など断定も避ける

---

### 6. 仕様まとめ

- **ヘッダー**: タイトルのみ（Footerからのルート画面）
- **検索UI展開**: 検索バータップ or 検索ボタンで展開
- **検索方式**: 複数条件（チップ）による AND 検索、即時フィルタ
- **提案表示**: 検索UI展開時のみ、最大3件、控えめに表示
- **結果表示**: S-02b と同じカードグリッド形式
- **空状態**: 責めないメッセージ + 提案ブロックは残す

### インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 検索バー | 入力欄 | フォーカス、キーボード表示、候補表示（任意） |
| 入力確定 | Enter / 追加 | チップ化して検索条件に追加 |
| チップ | × | チップ削除 → 結果が更新 |
| 提案カード | カード | S-03 詳細モーダルへ（またはレシピ詳細へ：将来） |
| 結果カード | カード | S-03 詳細モーダルへ |
| フッター | 各ナビアイテム | 対応画面へ遷移 |

---

## S-06: 設定

### レイアウト構成

```
┌─────────────────────────────┐
│ [←]         設定            │ ← S-01 へ戻る
├─────────────────────────────┤
│                             │
│ ─ 通知 ─                    │
│   通知設定              [>] │
│                             │
│ ─ サウンド ─                │
│   環境音              [ON]  │
│   記録完了音          [ON]  │
│                             │
│ ─ データ ─                  │
│   Kitchen Signals      [>]  │
│   データについて       [>]  │
│                             │
│ ─ アプリについて ─          │
│   バージョン          1.0.0 │
│                             │
│  ℹ️ データは端末内に保存     │ ← 安心感の明記
│     されています            │
│                             │
├─────────────────────────────┤
│         （フッター非表示）    │ ← 設定画面はフッターなし
└─────────────────────────────┘
```

### 仕様

- **アクセス**: S-01 トップ画面のヘッダー（⚙️）からのみ
- **戻る**: ← ボタンで S-01 へ
- **フッター**: 非表示（頻度が低い画面のため）

### インタラクションゾーン

| ゾーン | タップ対象 | 期待結果 |
|--------|-----------|----------|
| 左上 | ← ボタン | S-01 へ戻る |
| 通知設定 | 行全体 | 通知設定詳細へ |
| 環境音 | トグル | ON/OFF 切替 |
| 記録完了音 | トグル | ON/OFF 切替 |
| Kitchen Signals | 行全体 | Signals編集画面へ |

### 制約（World Bible準拠）

- SNS連携、共有ボタンは存在しない
- アカウント登録は不要
- ローカルファースト明記

### 設定項目最小化チェックリスト（UX-009）

以下を満たさない項目は追加しない：

- [ ] ユーザーが実際に変更する必要があるか
- [ ] 変更しないとアプリが使えない状況があるか
- [ ] World Bible の原則（プライバシー、シンプル、静か）に反していないか
- [ ] SNS連携、共有、アカウント登録を促していないか

**MVP で含めない設定:**
- アカウント登録/ログイン
- SNS連携
- データエクスポート（Phase 2）
- クラウド同期（Phase 2）
- テーマ選択（存在しない）

---

## S-07: オンボーディング

### フロー（最小ステップ）

01-screen-flows.md §6.1 に準拠。

```
S-07a: Welcome → S-07b: Signals入力（任意） → S-07c: 完了 → S-01
```

---

### S-07a: ウェルカム

```
┌─────────────────────────────┐
│                             │
│                             │
│      [キッチンイラスト]      │
│                             │
│    わたしの台所へようこそ    │
│                             │
│                             │
│                             │
│                             │
│        [はじめる]           │ ← S-07b へ
│                             │
│   [あとで設定する（スキップ）] │ ← S-07c へ（全スキップ）
│                             │
└─────────────────────────────┘
（フッター非表示）
```

---

### S-07b: Kitchen Signals

```
┌─────────────────────────────┐
│                             │
│    キッチンの空気感を        │
│    設定しましょう            │
│                             │
│  ─ 年代 ─                   │
│  [ 20-30代 ] [ 40-50代 ] [ 60代〜 ] │
│                             │
│  ─ 世帯 ─                   │
│  [ ひとり暮らし ] [ ファミリー ] │
│                             │
│                             │
│  ℹ️ いつでも変更できます     │
│                             │
│                             │
│        [次へ]               │ ← S-07c へ
│                             │
│        [スキップ]           │ ← S-07c へ
│                             │
└─────────────────────────────┘
```

---

### S-07c: 完了

```
┌─────────────────────────────┐
│                             │
│                             │
│      [キッチンイラスト]      │
│                             │
│      準備ができました！      │
│                             │
│    さっそく記録を            │
│    はじめましょう            │
│                             │
│                             │
│        [はじめる]           │ ← S-01 へ
│                             │
│                             │
└─────────────────────────────┘
```

### インタラクションゾーン（オンボーディング全体）

| 画面 | ゾーン | タップ対象 | 期待結果 |
|------|--------|-----------|----------|
| S-07a | 下部 | はじめる | S-07b へ |
| S-07a | 下部 | スキップ | S-07c へ |
| S-07b | 選択肢 | 年代/世帯ボタン | 選択状態トグル |
| S-07b | 下部 | 次へ/スキップ | S-07c へ |
| S-07c | 下部 | はじめる | S-01 へ |

### 「すぐに使い始められる」チェックリスト（UX-014）

オンボーディングは以下を満たすこと：

- [x] 全ステップスキップ可能
- [x] アカウント登録不要
- [x] 入力必須項目なし
- [x] 3ステップ以内
- [x] 各ステップ 15秒以内で完了可能
- [x] 難解な用語を使っていない
- [x] 長文の説明がない

### Kitchen Signals 入力仕様（UX-015）

#### 入力項目一覧

| 項目 | 選択肢 | デフォルト | 必須 |
|------|--------|-----------|------|
| 年代 | 20-30代 / 40-50代 / 60代〜 | 未選択 | × |
| 世帯 | ひとり暮らし / ファミリー | 未選択 | × |

**注:** 「好きな料理ジャンル」は MVP では含めない。理由:
- 入力負荷を最小化
- 行動シグナルで自然に蓄積（World Bible準拠）
- Phase 2 で提案機能と共に追加検討

#### 入力UI形式

- **単一選択ボタン（Chip/Pill）**
- タップで選択、再タップで解除
- 複数項目の同時選択なし（年代・世帯それぞれ1つ）
- 未選択のまま「次へ」可能

#### 「分類されている感」回避チェックリスト

- [x] 「あなたのタイプは〜」と言わない
- [x] 選択結果を画面に大きく表示しない
- [x] 選択で画面が劇的に変わらない
- [x] いつでも変更できることを明記
- [x] 選択肢に優劣をつけない

---

## Figmaデザインファイル

**Figma Project:** `my-kitchen / Phase 1 UX`

### Page構成

| Page | 内容 |
|------|------|
| `IA / Screen Flows` | 画面遷移図、ジャーニーマップ |
| `Wireframes / Top` | S-01 トップ画面 |
| `Wireframes / Shelf` | S-02a 本棚、S-02b 図鑑内カード一覧、S-02c 本棚ログ、S-02d アニバーサリー、S-03 詳細 |
| `Wireframes / Record Flow` | S-04a〜c、S-08 |
| `Wireframes / Explore` | S-05 探索 |
| `Wireframes / Settings` | S-06 設定 |
| `Wireframes / Onboarding` | S-07a〜c |
| `Components` | Footer、Card、Button 等 |

### Export先

```
docs/ux/phase-1/figma/exports/
├── flows-overview-v1.png
├── flow-record-v1.png
├── wire-s01-top-v1.png
├── wire-s02a-shelf-v1.png
├── wire-s02b-encyclopedia-cards-v1.png
├── wire-s02c-shelf-log-v1.png
├── wire-s02d-anniversary-v1.png
├── wire-s03-detail-v1.png
├── wire-s04a-photo-v1.png
├── wire-s04b-input-v1.png
├── wire-s04c-confirm-v1.png
├── wire-s05-explore-v1.png
├── wire-s06-settings-v1.png
├── wire-s07-onboarding-v1.png
└── wire-s08-celebration-v1.png
```

---

## TODO / 未決定事項

- [x] カードのアスペクト比最終決定 → **4:3 採用**
- [x] グリッド列数のレスポンシブ閾値 → **375pt（3列/2列切り替え）**
- [ ] オンボーディングのイラストスタイル（UX-036 2.5Dアセット仕様で決定）
- [ ] S-04b タグ入力UIの詳細（Phase 2 で詳細化）
- [ ] S-03 詳細モーダルの編集機能配置（Phase 2 で追加）

---

## 更新履歴

| 日付 | 更新内容 |
|------|---------|
| 2026-02-01 | 初版作成 |
| 2026-02-01 | 01-screen-flows.md準拠: フッター3アイテム化、記録フローS-04a/b/c/S-08分割、S-02/S-05ヘッダー修正、インタラクションゾーン追加 |
| 2026-02-01 | UX-002/003/009/014/015対応: 並び順・スクロール仕様追加、カード情報要素・視覚階層追加、設定最小化チェックリスト追加、オンボーディングチェックリスト追加、Kitchen Signals入力仕様追加、Pencil→Figma移行 |
| 2026-02-01 | S-02構造変更: 旧「アーカイブ/時系列|カテゴリタブ/グリッド一覧」を「本棚→図鑑→カード→詳細」ナビゲーションに再構成。S-02a（本棚/図鑑一覧）、S-02b（図鑑内カード一覧/あいうえお順）、S-02c（本棚ログ/時系列）、S-02d（アニバーサリー）を追加。図鑑は固定セット・固定配置・全ユーザー共通の仕様を明確化。評価・比較の印象を避けるため、グリッド一覧では作成回数・日付を非表示に。S-03の戻り先参照を更新。 |
| 2026-02-01 | S-05探索画面拡充: 「レシピ検索 & 提案」として再定義。検索UI展開方式、複数条件（チップ）によるAND検索、即時フィルタ仕様を追加。提案は検索UI展開時のみ表示、最大3件、控えめに配置。提案ロジックは3枠で役割分担（定番/時間帯/新規）、ランキング・評価表現は禁止。検索結果ゼロ時の優しいメッセージと提案ブロック継続表示を追加。 |
